# 修复 D20 偏移 Bug 并解锁手动投掷功能方案

本方案将解决骰子显示在 7 和 16 面中间的对齐问题，并开放手动投掷功能以供开发调试。

## 1. 修复对齐与偏移 Bug (DiceTray.vue)
*   **数学算法升级**：
    *   目前使用 `setFromUnitVectors` 只能保证面正对相机，但无法控制面的旋转方向（导致数字歪斜或停在棱角处）。
    *   **改进**：改用 `Matrix4.lookAt` 结合四元数反转逻辑。这不仅能让面正对相机，还能确保骰子的“上”方向与世界坐标系的“上”一致，实现完美的数字对正。
*   **纹理覆盖优化**：
    *   扩大 `createFaceTexture` 中背景和边框的绘制范围（超出三角形边界），彻底消除面与面之间的黑边缝隙。
    *   微调 UV 映射，使 2D 画布纹理更精准地贴合 3D 三角形面。

## 2. 解锁手动投掷功能 (DiceTray.vue)
*   **交互增强**：
    *   **按钮支持**：在投骰区右上角增加一个透明的“手动投掷”按钮（仅开发阶段显著，或作为彩蛋）。
    *   **点击支持**：为 3D 画布增加点击事件，点击骰子所在的 Canvas 区域即可立即触发随机投掷。
*   **逻辑集成**：手动投掷将调用现有的 `rollDice` 动画序列，并生成 1~20 的随机结果。

## 3. 视觉微调
*   进一步增强点光源强度，确保骰子数字在各种角度下都清晰可辨。

**确认后，我将立即实施修复并解锁投掷功能，方便您进行实时测试。**