# 世界卡编辑器与界面汉化方案

本方案将为 **Faramita Worlds** 增加可视化的世界卡编辑功能，并将整个前端界面汉化，以符合中文用户的操作习惯。

## 一、 界面汉化 (UI Localization)

我们将对现有组件进行全方位的中文本地化：

1.  **Chronicle (剧情区)**：
    *   输入框占位符：`"输入你的行动..."`
    *   按钮与提示：`"发送"`、`"回滚到此回合"`。
2.  **Codex (规则窗)**：
    *   标签页：`"世界卡"`、`"投骰"`、`"设置"`。
    *   设置项：`"AI 配置"`、`"接口密钥"`、`"基础 URL"`、`"模型名称"`。
3.  **Entity Viewer (实体查看器)**：
    *   卡片类型：`"设定"`、`"章节"`、`"人物"`、`"魔法"`。
    *   空状态与加载提示汉化。

## 二、 世界卡可视化编辑器 (World Card Editor)

我们将实现一个基于条目的动态编辑器组件 `CardEditor.vue`：

1.  **入口集成**：
    *   在 `EntityViewer` 的每张卡片右侧增加 **"编辑" (Edit)** 图标。
    *   点击后在 `CodexZone` 弹出侧边编辑抽屉或遮罩层。
2.  **动态表单设计**：
    *   **通用字段**：ID、类型、可见度控制（公开可见/玩家可见/解锁条件）。
    *   **设定卡 (Setting)**：编辑标题、内容、标签。
    *   **章节卡 (Chapter)**：编辑标题、目标、情节段落 (Plot Points)。
    *   **角色卡 (Character)**：编辑姓名、种族、等级、六维属性 (STR/DEX/CON/INT/WIS/CHA)、背包、性格。
    *   **魔法卡 (Magic)**：编辑名称、消耗、最低等级、元素类型、效果描述。
3.  **数据持久化**：
    *   编辑完成后，调用 `worldStore.updateCard` 实时更新 `Dexie.js` 数据库。
    *   更新后 UI 自动响应式刷新。

## 三、 关键组件修改点

*   **`EntityViewer.vue`**: 增加编辑按钮，支持点击选中卡片。
*   **`CodexZone.vue`**: 增加 `CardEditor` 挂载点，管理编辑器的显示状态。
*   **`Interface.ts`**: 确保所有中文字段（如属性名）在逻辑中正确映射。

**确认后，我将首先进行全界面的汉化，随后实现世界卡编辑器。**